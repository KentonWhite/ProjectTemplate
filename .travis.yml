language: r
dist: bionic
cache: packages
warnings_are_errors: true
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - unixodbc-dev
      - r-cran-rodbc
#       - g++-7
#       - python-pandas
before_install:
#  - sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9
#  - sudo add-apt-repository "deb https://cloud.r-project.org/bin/linux/ubuntu bionic-cran40/"
#  - sudo apt update
#  - sudo apt install r-base
#  - sudo apt-get install r-base-dev
  - pip3 install pandas
  - sudo $(which R) CMD javareconf
#   - sudo $(which R) CMD javareconf
#   - mkdir -p ~/.R
#   - echo 'CXX17 = g++-7 -std=gnu++17 -fPIC' > ~/.R/Makevars

env:
  global:
    - _R_CHECK_FORCE_SUGGESTS_: false
    - RETICULATE_PYTHON: /usr/bin/python3

r_binary_packages:
  # - reticulate
  # - rcppparallel
  # - tibble
